### 如何实现服务器记忆用户登录状态

背景：由于 HTTP 协议是无状态的，所以服务端要记录用户的登录信息，就需要通过某种机制来标识具体的用户，session

- 将用户的用户名和加密之后的密码通过 Cookie 的方式存放在客户端，当服务器上的 Session 销毁以后，使用Cookie 里面存放的用户名和加密之后的密码重新执行一次登录操作，重建 Session，并更新客户端上 Cookie中存放的的 Session ID，而这个操作是发生在用户请求一个需要身份验证的页面资源的背后，对于用户来讲是透明的，于是就达到了**记住我的登录状态**的目的了
- Cookie 于 Session 的区别
  - cookie 数据存放在客户端的浏览器上，session 数据存放在服务器上
  - cookie 不是很安全，别人通过分析存放在本地的 cookie 并进行 cookie 欺骗，考虑到安全应使用 session
  - session 会在一定时间内保存在服务器上（过期时间），当访问增多，会比较占用服务器性能，考虑到减轻服务器压力应使用 cookie
  - 单个 cookie 保存的数据不能超过 4K ，很多浏览器上都限制一个站点最多保存 20 个 cookie，
  - 所以将个人重要信息保存为 session，其他信息保存为 cookie

### CGI 程序如何实现

- 从服务器获取数据
- URL 编码
- CGI 数据输出

### CGI 中的文件锁和信号量

- 因为 CGI 程序是共用的，因此可能发生多个用户访问同一个 CGI 程序，比如：有 2 个用户同时访问同一个 CGI 程序，服务器为他们创建两个 CGI 程序进程，假设为进程 A 和 B，首先 A 打开了某个文件，然后由于某种进程调度被挂起，而就在进程 A　被挂起的这段时间，进程 B 完成了对该文件的读写，进程 A 才继续往下进行，但进程 A 操作的文件依旧是原来文件的版本此时 A 进程的结果将会覆盖 B 进程结果。

### 如何加入 socket

- 创建 socket 描述符之后，绑定之前

### 如何解决高并发

- 尽量使用缓存以减少与数据库之间的交互
- html 静态化，对于系统中频繁使用数据库查询但是内容很小的数据，虽说这些数据被大量前台程序调用，但是更新频率很小，可以考虑对这部分内容使用静态化
- 高性能服务器，高效率编程语言
- 优化数据库查询，多做索引，提高查询效率
- 使用进程池
